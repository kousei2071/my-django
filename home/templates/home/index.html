{% extends 'home/base.html' %}

{% block title %}TANKORE - ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸{% endblock %}

{% block content %}
<div class="index-layout">
    <!-- å·¦å´ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼ˆã‚¿ã‚°æ¤œç´¢ï¼‰ -->
    <aside class="tags-sidebar">
        <div class="tags-sidebar-sticky">
            <div class="tags-sidebar-header">
                {% if selected_tags %}
                    <a href="{% url 'home' %}" class="tags-clear-btn">ã‚¯ãƒªã‚¢</a>
                {% endif %}
            </div>
            
            <div class="tags-sidebar-scroll">
                {% if all_tags %}
                    <div class="tags-group">
                        <h4 class="tags-group-title">äººæ°—ã®ã‚¿ã‚°</h4>
                        <div class="tags-list">
                            {% for tag in all_tags|slice:":10" %}
                            <a href="?tag={{ tag.name }}" 
                               class="tag-item {% if tag.name in selected_tag_names %}active{% endif %}">
                                <span class="tag-name">{{ tag.name }}</span>
                                <span class="tag-count">{{ tag.usage_count }}</span>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                    
                    {% if all_tags|length > 10 %}
                    <div class="tags-group">
                        <h4 class="tags-group-title">ã™ã¹ã¦ã®ã‚¿ã‚°</h4>
                        <div class="tags-list">
                            {% for tag in all_tags|slice:"10:" %}
                            <a href="?tag={{ tag.name }}" 
                               class="tag-item {% if tag.name in selected_tag_names %}active{% endif %}">
                                <span class="tag-name">{{ tag.name }}</span>
                                <span class="tag-count">{{ tag.usage_count }}</span>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}
                {% else %}
                    <p class="tags-empty">ã‚¿ã‚°ãŒã¾ã ã‚ã‚Šã¾ã›ã‚“</p>
                {% endif %}
            </div>
        </div>
    </aside>

    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
    <div class="index-main">
        <!-- ãƒ¢ãƒã‚¤ãƒ«ç”¨ã‚¿ã‚°ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="mobile-tags-section">
            <div class="mobile-tags-header">
                <h4 class="mobile-tags-title">ğŸ·ï¸ ã‚¿ã‚°ã§æ¤œç´¢</h4>
                {% if selected_tags %}
                    <a href="{% url 'home' %}" class="tags-clear-btn">ã‚¯ãƒªã‚¢</a>
                {% endif %}
            </div>
            <div class="mobile-tags-scroll">
                {% for tag in all_tags|slice:":15" %}
                <a href="?tag={{ tag.name }}" 
                   class="mobile-tag-chip {% if tag.name in selected_tag_names %}active{% endif %}">
                    {{ tag.name }}
                    <span class="mobile-tag-count">{{ tag.usage_count }}</span>
                </a>
                {% empty %}
                <span style="color: #999; font-size: 0.85rem;">ã‚¿ã‚°ãŒã‚ã‚Šã¾ã›ã‚“</span>
                {% endfor %}
            </div>
        </div>

        <div class="hero">
            <div class="hero-content">
                <h1 class="hero-title">TANKORE</h1>
                <p class="hero-subtitle">è‡ªåˆ†ã ã‘ã®è‹±å˜èªå¸³ã‚’ä½œã‚ã†</p>
                <div class="hero-buttons">
                    {% if user.is_authenticated %}
                        <a href="{% url 'wordbook_list' %}" class="btn btn-primary">ãƒã‚¤ãƒšãƒ¼ã‚¸ã¸</a>
                    {% else %}
                        <a href="{% url 'register' %}" class="btn btn-primary">ä»Šã™ãå§‹ã‚ã‚‹</a>
                        <a href="{% url 'login' %}" class="btn btn-secondary">ãƒ­ã‚°ã‚¤ãƒ³</a>
                    {% endif %}
                </div>
            </div>
        </div>

        <section class="features">
            <div class="container">
                <h2 class="section-title">TANKOREã®ç‰¹å¾´</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“š</div>
                        <h3>è‡ªåˆ†ã ã‘ã®å˜èªå¸³</h3>
                        <p>è¦šãˆãŸã„å˜èªã‚’è‡ªç”±ã«è¿½åŠ ã—ã¦ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ã®å˜èªå¸³ã‚’ä½œæˆã§ãã¾ã™</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ–¼ï¸</div>
                        <h3>ç”»åƒã§è¦šãˆã‚‹</h3>
                        <p>å˜èªã‚«ãƒ¼ãƒ‰ã«ç”»åƒã‚’è¿½åŠ ã—ã¦ã€è¦–è¦šçš„ã«å˜èªã‚’è¨˜æ†¶ã§ãã¾ã™</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ğŸ“±</div>
                        <h3>ã©ã“ã§ã‚‚å­¦ç¿’</h3>
                        <p>ã‚¹ãƒãƒ›ã‚„ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã§ã„ã¤ã§ã‚‚ã©ã“ã§ã‚‚å­¦ç¿’ã§ãã¾ã™</p>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
{% endblock %}
